{% extends 'nova/base.html' %}
{%load i18n%}

{% block sidebar %}
  {% with current_sidebar="instances" %}
    {{block.super}}
  {% endwith %}
{% endblock %}

{% block page_header %}
  {# to make searchable false, just remove it from the include statement #}
  {% include "horizon/common/_page_header.html" with title=_("Update Instance") %}
{% endblock page_header %}

{% block dash_main %}
  <div id="update_instance_modal" class="modal static_page">
    <div class="modal-header">
      <h3>Update Instance</h3>
    </div>
    <div class="modal-body">
      <div class="left">
        {% include 'nova/instances/_update.html' with form=form %}
      </div>
      <div class="right">
        <h3>{% trans "Description:"%}</h3>
        <p>{% trans "Update the name and description of your instance"%}</p>
      </div>
    </div>
  </div>
{% endblock %}

{% block footer_js %}
  <script type="text/javascript" charset="utf-8">
    $(function(){
      $("#spinner").hide()
      function loadInstances(){
        $('#spinner').show();
        $('#instances').load('{% url horizon:nova:instances:refresh %}', function(){
          $("#spinner").hide()
        });
      }
      setInterval(function(){
        loadInstances();
      }, 15000);

      $("a.refresh").click(function(e){
        e.preventDefault()
        loadInstances();
      })
    })
  </script>
{% endblock footer_js %}
